!function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return o(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){"use strict";function n(e){return function(t,r){return t&&"unknown_error"===t.name&&(t.message=(t.message||"")+" Unknown error!  Did you remember to enable CORS?"),e(t,r)}}function o(e){this.status=400,this.name="authentication_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}var i=e("crypto"),s=e("./utils");r.signup=s.toPromise(function(e,t,r,a){function u(e){var t=i.randomBytes(16).toString("hex"),r=i.createHash("sha1");return r.update(e+t),[r.digest("hex"),t]}var c=this;if("undefined"==typeof a&&(a="undefined"==typeof r?"undefined"==typeof t?e:t:r,r={}),-1===["http","https"].indexOf(c.type()))return a(new o('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.'));if(!e)return a(new o("You must provide a username"));if(!t)return a(new o("You must provide a password"));var f=u(t),l="org.couchdb.user:"+e,d={name:e,password_sha:f[0],salt:f[1],password_scheme:"simple",type:"user",roles:r.roles||[],_id:l},h=["name","password","roles","type","salt","metadata"];if(r.metadata){for(var p in r.metadata)if(r.hasOwnProperty(p)&&(-1!==h.indexOf(p)||p.startsWith("_")))return a(new o('cannot use reserved word in metadata: "'+p+'"'));d=s.extend(!0,d,r.metadata)}var y=s.getUsersUrl(c)+"/"+encodeURIComponent(l),v=s.extend(!0,{method:"PUT",contentType:"application/x-www-form-urlencoded",url:y,body:d},r.ajax||{});s.ajax(v,n(a))}),r.signUp=r.signup,r.login=s.toPromise(function(e,t,r,i){var a=this;if("undefined"==typeof i&&(i=r,r={}),-1===["http","https"].indexOf(a.type()))return i(new o("this plugin only works for the http/https adapter"));if(!e)return i(new o("you must provide a username"));if(!t)return i(new o("you must provide a password"));var u=s.extend(!0,{method:"POST",url:s.getSessionUrl(a),contentType:"application/x-www-form-urlencoded",body:"name="+encodeURIComponent(e)+"&password="+encodeURIComponent(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}},r.ajax||{});s.ajax(u,n(i))}),r.logIn=r.login,r.logout=s.toPromise(function(e,t){var r=this;"undefined"==typeof t&&(t=e,e={});var o=s.extend(!0,{method:"DELETE",url:s.getSessionUrl(r)},e.ajax||{});s.ajax(o,n(t))}),r.logOut=r.logout,r.getSession=s.toPromise(function(e,t){var r=this;"undefined"==typeof t&&(t=e,e={});var o=s.getSessionUrl(r),i=s.extend(!0,{method:"GET",url:o},e.ajax||{});s.ajax(i,n(t))}),r.getUser=s.toPromise(function(e,t,r){var i=this;if("undefined"==typeof r&&(r="undefined"==typeof t?e:t,t={}),!e)return r(new o("you must provide a username"));var a=s.getUsersUrl(i),u=s.extend(!0,{method:"GET",url:a+"/"+encodeURIComponent("org.couchdb.user:"+e)},t.ajax||{});s.ajax(u,n(r))}),r.changePassword=s.toPromise(function(e,t,r,i){var a=this;return"undefined"==typeof i&&(i="undefined"==typeof r?"undefined"==typeof t?e:t:r,r={}),-1===["http","https"].indexOf(a.type())?i(new o('This plugin only works for the http/https adapter. So you should use new PouchDB("http://mysite.com:5984/mydb") instead.')):e?t?a.getUser(e,r,function(e,o){if(e)return i(e);o.password=t;var u=s.getUsersUrl(a)+"/"+encodeURIComponent(o._id),c=s.extend(!0,{method:"PUT",url:u,body:o},r.ajax||{});s.ajax(c,n(i))}):i(new o("You must provide a password")):i(new o("You must provide a username"))}),s.inherits(o,Error),"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(r)},{"./utils":2,crypto:8}],2:[function(e,t,r){(function(t){"use strict";function n(e){return e.getUrl().replace(/\/[^\/]+\/?$/,"")}var o=e("pouchdb/extras/promise");r.getUsersUrl=function(e){return n(e)+"/_users"},r.getSessionUrl=function(e){return n(e)+"/_session"},r.once=function(e){var t=!1;return r.getArguments(function(r){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,r)})},r.getArguments=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}},r.toPromise=function(e){return r.getArguments(function(n){var i,s=this,a="function"==typeof n[n.length-1]?n.pop():!1;a&&(i=function(e,r){t.nextTick(function(){a(e,r)})});var u=new o(function(t,o){try{var i=r.once(function(e,r){e?o(e):t(r)});n.push(i),e.apply(s,n)}catch(a){o(a)}});return i&&u.then(function(e){i(null,e)},i),u.cancel=function(){return this},u})},r.inherits=e("inherits"),r.extend=e("pouchdb-extend"),r.ajax=e("pouchdb/extras/ajax"),r.clone=function(e){return r.extend(!0,{},e)},r.uuid=e("./uuid"),r.Promise=o}).call(this,e("/Users/will/dev/willholley/pouchdb-authentication/node_modules/process/browser.js"))},{"./uuid":3,"/Users/will/dev/willholley/pouchdb-authentication/node_modules/process/browser.js":53,inherits:18,"pouchdb-extend":21,"pouchdb/extras/ajax":22,"pouchdb/extras/promise":23}],3:[function(e,t,r){"use strict";function n(e){return 0|Math.random()*e}function o(e,t){t=t||i.length;var r="",o=-1;if(e){for(;++o<e;)r+=i[n(t)];return r}for(;++o<36;)switch(o){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=i[3&n(16)|8];break;default:r+=i[n(16)]}return r}var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.exports=o},{}],4:[function(e,t,r){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var r=[],n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}return e.call(this,[])}}t.exports=n},{}],5:[function(e,t,r){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);var o=typeof e;if("base64"===t&&"string"===o)for(e=j(e);e.length%4!==0;)e+="=";var i;if("number"===o)i=C(e);else if("string"===o)i=n.byteLength(e,t);else{if("object"!==o)throw new Error("First argument needs to be a number, array or string.");i=C(e.length)}var s;n._useTypedArrays?s=n._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(n._useTypedArrays&&"number"==typeof e.byteLength)s._set(e);else if(U(e))for(a=0;i>a;a++)n.isBuffer(e)?s[a]=e.readUInt8(a):s[a]=e[a];else if("string"===o)s.write(e,0,t);else if("number"===o&&!n._useTypedArrays&&!r)for(a=0;i>a;a++)s[a]=0;return s}function o(e,t,r,o){r=Number(r)||0;var i=e.length-r;o?(o=Number(o),o>i&&(o=i)):o=i;var s=t.length;V(s%2===0,"Invalid hex string"),o>s/2&&(o=s/2);for(var a=0;o>a;a++){var u=parseInt(t.substr(2*a,2),16);V(!isNaN(u),"Invalid hex string"),e[r+a]=u}return n._charsWritten=2*a,a}function i(e,t,r,o){var i=n._charsWritten=M(k(t),e,r,o);return i}function s(e,t,r,o){var i=n._charsWritten=M(D(t),e,r,o);return i}function a(e,t,r,n){return s(e,t,r,n)}function u(e,t,r,o){var i=n._charsWritten=M(R(t),e,r,o);return i}function c(e,t,r,o){var i=n._charsWritten=M(N(t),e,r,o);return i}function f(e,t,r){return 0===t&&r===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,r))}function l(e,t,r){var n="",o="";r=Math.min(e.length,r);for(var i=t;r>i;i++)e[i]<=127?(n+=P(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return n+P(o)}function d(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;r>o;o++)n+=String.fromCharCode(e[o]);return n}function h(e,t,r){return d(e,t,r)}function p(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var o="",i=t;r>i;i++)o+=O(e[i]);return o}function y(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function v(e,t,r,n){n||(V("boolean"==typeof r,"missing or invalid endian"),V(void 0!==t&&null!==t,"missing offset"),V(t+1<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i;return r?(i=e[t],o>t+1&&(i|=e[t+1]<<8)):(i=e[t]<<8,o>t+1&&(i|=e[t+1])),i}}function g(e,t,r,n){n||(V("boolean"==typeof r,"missing or invalid endian"),V(void 0!==t&&null!==t,"missing offset"),V(t+3<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i;return r?(o>t+2&&(i=e[t+2]<<16),o>t+1&&(i|=e[t+1]<<8),i|=e[t],o>t+3&&(i+=e[t+3]<<24>>>0)):(o>t+1&&(i=e[t+1]<<16),o>t+2&&(i|=e[t+2]<<8),o>t+3&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}}function m(e,t,r,n){n||(V("boolean"==typeof r,"missing or invalid endian"),V(void 0!==t&&null!==t,"missing offset"),V(t+1<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i=v(e,t,r,!0),s=32768&i;return s?-1*(65535-i+1):i}}function b(e,t,r,n){n||(V("boolean"==typeof r,"missing or invalid endian"),V(void 0!==t&&null!==t,"missing offset"),V(t+3<e.length,"Trying to read beyond buffer length"));var o=e.length;if(!(t>=o)){var i=g(e,t,r,!0),s=2147483648&i;return s?-1*(4294967295-i+1):i}}function w(e,t,r,n){return n||(V("boolean"==typeof r,"missing or invalid endian"),V(t+3<e.length,"Trying to read beyond buffer length")),W.read(e,t,r,23,4)}function _(e,t,r,n){return n||(V("boolean"==typeof r,"missing or invalid endian"),V(t+7<e.length,"Trying to read beyond buffer length")),W.read(e,t,r,52,8)}function E(e,t,r,n,o){o||(V(void 0!==t&&null!==t,"missing value"),V("boolean"==typeof n,"missing or invalid endian"),V(void 0!==r&&null!==r,"missing offset"),V(r+1<e.length,"trying to write beyond buffer length"),q(t,65535));var i=e.length;if(!(r>=i))for(var s=0,a=Math.min(i-r,2);a>s;s++)e[r+s]=(t&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function x(e,t,r,n,o){o||(V(void 0!==t&&null!==t,"missing value"),V("boolean"==typeof n,"missing or invalid endian"),V(void 0!==r&&null!==r,"missing offset"),V(r+3<e.length,"trying to write beyond buffer length"),q(t,4294967295));var i=e.length;if(!(r>=i))for(var s=0,a=Math.min(i-r,4);a>s;s++)e[r+s]=t>>>8*(n?s:3-s)&255}function I(e,t,r,n,o){o||(V(void 0!==t&&null!==t,"missing value"),V("boolean"==typeof n,"missing or invalid endian"),V(void 0!==r&&null!==r,"missing offset"),V(r+1<e.length,"Trying to write beyond buffer length"),F(t,32767,-32768));var i=e.length;r>=i||(t>=0?E(e,t,r,n,o):E(e,65535+t+1,r,n,o))}function A(e,t,r,n,o){o||(V(void 0!==t&&null!==t,"missing value"),V("boolean"==typeof n,"missing or invalid endian"),V(void 0!==r&&null!==r,"missing offset"),V(r+3<e.length,"Trying to write beyond buffer length"),F(t,2147483647,-2147483648));var i=e.length;r>=i||(t>=0?x(e,t,r,n,o):x(e,4294967295+t+1,r,n,o))}function B(e,t,r,n,o){o||(V(void 0!==t&&null!==t,"missing value"),V("boolean"==typeof n,"missing or invalid endian"),V(void 0!==r&&null!==r,"missing offset"),V(r+3<e.length,"Trying to write beyond buffer length"),J(t,3.4028234663852886e38,-3.4028234663852886e38));var i=e.length;r>=i||W.write(e,t,r,n,23,4)}function S(e,t,r,n,o){o||(V(void 0!==t&&null!==t,"missing value"),V("boolean"==typeof n,"missing or invalid endian"),V(void 0!==r&&null!==r,"missing offset"),V(r+7<e.length,"Trying to write beyond buffer length"),J(t,1.7976931348623157e308,-1.7976931348623157e308));var i=e.length;r>=i||W.write(e,t,r,n,52,8)}function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function L(e,t,r){return"number"!=typeof e?r:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function C(e){return e=~~Math.ceil(+e),0>e?0:e}function T(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function U(e){return T(e)||n.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function O(e){return 16>e?"0"+e.toString(16):e.toString(16)}function k(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);if(127>=n)t.push(e.charCodeAt(r));else{var o=r;n>=55296&&57343>=n&&r++;for(var i=encodeURIComponent(e.slice(o,r+1)).substr(1).split("%"),s=0;s<i.length;s++)t.push(parseInt(i[s],16))}}return t}function D(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function N(e){for(var t,r,n,o=[],i=0;i<e.length;i++)t=e.charCodeAt(i),r=t>>8,n=t%256,o.push(n),o.push(r);return o}function R(e){return G.toByteArray(e)}function M(e,t,r,n){for(var o=0;n>o&&!(o+r>=t.length||o>=e.length);o++)t[o+r]=e[o];return o}function P(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function q(e,t){V("number"==typeof e,"cannot write a non-number as a number"),V(e>=0,"specified a negative value for writing an unsigned value"),V(t>=e,"value is larger than maximum value for type"),V(Math.floor(e)===e,"value has a fractional component")}function F(e,t,r){V("number"==typeof e,"cannot write a non-number as a number"),V(t>=e,"value larger than maximum allowed value"),V(e>=r,"value smaller than minimum allowed value"),V(Math.floor(e)===e,"value has a fractional component")}function J(e,t,r){V("number"==typeof e,"cannot write a non-number as a number"),V(t>=e,"value larger than maximum allowed value"),V(e>=r,"value smaller than minimum allowed value")}function V(e,t){if(!e)throw new Error(t||"Failed assertion")}var G=e("base64-js"),W=e("ieee754");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192,n._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(r){return!1}}(),n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.isBuffer=function(e){return!(null===e||void 0===e||!e._isBuffer)},n.byteLength=function(e,t){var r;switch(e+="",t||"utf8"){case"hex":r=e.length/2;break;case"utf8":case"utf-8":r=k(e).length;break;case"ascii":case"binary":case"raw":r=e.length;break;case"base64":r=R(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*e.length;break;default:throw new Error("Unknown encoding")}return r},n.concat=function(e,t){if(V(T(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new n(0);if(1===e.length)return e[0];var r;if("number"!=typeof t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var o=new n(t),i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(o,i),i+=s.length}return o},n.prototype.write=function(e,t,r,n){if(isFinite(t))isFinite(r)||(n=r,r=void 0);else{var f=n;n=t,t=r,r=f}t=Number(t)||0;var l=this.length-t;r?(r=Number(r),r>l&&(r=l)):r=l,n=String(n||"utf8").toLowerCase();var d;switch(n){case"hex":d=o(this,e,t,r);break;case"utf8":case"utf-8":d=i(this,e,t,r);break;case"ascii":d=s(this,e,t,r);break;case"binary":d=a(this,e,t,r);break;case"base64":d=u(this,e,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":d=c(this,e,t,r);break;default:throw new Error("Unknown encoding")}return d},n.prototype.toString=function(e,t,r){var n=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,r=void 0!==r?Number(r):r=n.length,r===t)return"";var o;switch(e){case"hex":o=p(n,t,r);break;case"utf8":case"utf-8":o=l(n,t,r);break;case"ascii":o=d(n,t,r);break;case"binary":o=h(n,t,r);break;case"base64":o=f(n,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=y(n,t,r);break;default:throw new Error("Unknown encoding")}return o},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.copy=function(e,t,r,o){var i=this;if(r||(r=0),o||0===o||(o=this.length),t||(t=0),o!==r&&0!==e.length&&0!==i.length){V(o>=r,"sourceEnd < sourceStart"),V(t>=0&&t<e.length,"targetStart out of bounds"),V(r>=0&&r<i.length,"sourceStart out of bounds"),V(o>=0&&o<=i.length,"sourceEnd out of bounds"),o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);var s=o-r;if(100>s||!n._useTypedArrays)for(var a=0;s>a;a++)e[a+t]=this[a+r];else e._set(this.subarray(r,r+s),t)}},n.prototype.slice=function(e,t){var r=this.length;if(e=L(e,r,0),t=L(t,r,r),n._useTypedArrays)return n._augment(this.subarray(e,t));for(var o=t-e,i=new n(o,void 0,!0),s=0;o>s;s++)i[s]=this[s+e];return i},n.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},n.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},n.prototype.readUInt8=function(e,t){return t||(V(void 0!==e&&null!==e,"missing offset"),V(e<this.length,"Trying to read beyond buffer length")),e>=this.length?void 0:this[e]},n.prototype.readUInt16LE=function(e,t){return v(this,e,!0,t)},n.prototype.readUInt16BE=function(e,t){return v(this,e,!1,t)},n.prototype.readUInt32LE=function(e,t){return g(this,e,!0,t)},n.prototype.readUInt32BE=function(e,t){return g(this,e,!1,t)},n.prototype.readInt8=function(e,t){if(t||(V(void 0!==e&&null!==e,"missing offset"),V(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var r=128&this[e];return r?-1*(255-this[e]+1):this[e]}},n.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},n.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},n.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},n.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},n.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},n.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},n.prototype.readDoubleLE=function(e,t){return _(this,e,!0,t)},n.prototype.readDoubleBE=function(e,t){return _(this,e,!1,t)},n.prototype.writeUInt8=function(e,t,r){r||(V(void 0!==e&&null!==e,"missing value"),V(void 0!==t&&null!==t,"missing offset"),V(t<this.length,"trying to write beyond buffer length"),q(e,255)),t>=this.length||(this[t]=e)},n.prototype.writeUInt16LE=function(e,t,r){E(this,e,t,!0,r)},n.prototype.writeUInt16BE=function(e,t,r){E(this,e,t,!1,r)},n.prototype.writeUInt32LE=function(e,t,r){x(this,e,t,!0,r)},n.prototype.writeUInt32BE=function(e,t,r){x(this,e,t,!1,r)},n.prototype.writeInt8=function(e,t,r){r||(V(void 0!==e&&null!==e,"missing value"),V(void 0!==t&&null!==t,"missing offset"),V(t<this.length,"Trying to write beyond buffer length"),F(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,r):this.writeUInt8(255+e+1,t,r))},n.prototype.writeInt16LE=function(e,t,r){I(this,e,t,!0,r)},n.prototype.writeInt16BE=function(e,t,r){I(this,e,t,!1,r)},n.prototype.writeInt32LE=function(e,t,r){A(this,e,t,!0,r)},n.prototype.writeInt32BE=function(e,t,r){A(this,e,t,!1,r)},n.prototype.writeFloatLE=function(e,t,r){B(this,e,t,!0,r)},n.prototype.writeFloatBE=function(e,t,r){B(this,e,t,!1,r)},n.prototype.writeDoubleLE=function(e,t,r){S(this,e,t,!0,r)},n.prototype.writeDoubleBE=function(e,t,r){S(this,e,t,!1,r)},n.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),V("number"==typeof e&&!isNaN(e),"value is not a number"),V(r>=t,"end < start"),r!==t&&0!==this.length){V(t>=0&&t<this.length,"start out of bounds"),V(r>=0&&r<=this.length,"end out of bounds");for(var n=t;r>n;n++)this[n]=e}},n.prototype.inspect=function(){for(var e=[],t=this.length,n=0;t>n;n++)if(e[n]=O(this[n]),n===r.INSPECT_MAX_BYTES){e[n+1]="...";break}return"<Buffer "+e.join(" ")+">"},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n._useTypedArrays)return new n(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var H=n.prototype;n._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=H.get,e.set=H.set,e.write=H.write,e.toString=H.toString,e.toLocaleString=H.toString,e.toJSON=H.toJSON,e.copy=H.copy,e.slice=H.slice,e.readUInt8=H.readUInt8,e.readUInt16LE=H.readUInt16LE,e.readUInt16BE=H.readUInt16BE,e.readUInt32LE=H.readUInt32LE,e.readUInt32BE=H.readUInt32BE,e.readInt8=H.readInt8,e.readInt16LE=H.readInt16LE,e.readInt16BE=H.readInt16BE,e.readInt32LE=H.readInt32LE,e.readInt32BE=H.readInt32BE,e.readFloatLE=H.readFloatLE,e.readFloatBE=H.readFloatBE,e.readDoubleLE=H.readDoubleLE,e.readDoubleBE=H.readDoubleBE,e.writeUInt8=H.writeUInt8,e.writeUInt16LE=H.writeUInt16LE,e.writeUInt16BE=H.writeUInt16BE,e.writeUInt32LE=H.writeUInt32LE,e.writeUInt32BE=H.writeUInt32BE,e.writeInt8=H.writeInt8,e.writeInt16LE=H.writeInt16LE,e.writeInt16BE=H.writeInt16BE,e.writeInt32LE=H.writeInt32LE,e.writeInt32BE=H.writeInt32BE,e.writeFloatLE=H.writeFloatLE,e.writeFloatBE=H.writeFloatBE,e.writeDoubleLE=H.writeDoubleLE,e.writeDoubleBE=H.writeDoubleBE,e.fill=H.fill,e.inspect=H.inspect,e.toArrayBuffer=H.toArrayBuffer,e}},{"base64-js":6,ieee754:16}],6:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===l?62:t===a||t===d?63:u>t?-1:u+10>t?t-u+26+26:f+26>t?t-f:c+26>t?t-c+26:void 0}function r(e){function r(e){c[l++]=e}var n,o,s,a,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.length;u="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0,c=new i(3*e.length/4-u),s=u>0?e.length-4:e.length;var l=0;for(n=0,o=0;s>n;n+=4,o+=3)a=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&a)>>16),r((65280&a)>>8),r(255&a);return 2===u?(a=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&a)):1===u&&(a=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(a>>8&255),r(255&a)),c}function o(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,s,a=e.length%3,u="";for(o=0,s=e.length-a;s>o;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=r(i);switch(a){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0),l="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=o}("undefined"==typeof r?this.base64js={}:r)},{}],7:[function(e,t,r){function n(e,t){if(e.length%a!==0){var r=e.length+(a-e.length%a);e=s.concat([e,u],r)}for(var n=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=a)n.push(o.call(e,i));return n}function o(e,t,r){for(var n=new s(t),o=r?n.writeInt32BE:n.writeInt32LE,i=0;i<e.length;i++)o.call(n,e[i],4*i,!0);return n}function i(e,t,r,i){s.isBuffer(e)||(e=new s(e));var a=t(n(e,i),e.length*c);return o(a,r,i)}var s=e("buffer").Buffer,a=4,u=new s(a);u.fill(0);var c=8;t.exports={hash:i}},{buffer:5}],8:[function(e,t,r){function n(e,t,r){a.isBuffer(t)||(t=new a(t)),a.isBuffer(r)||(r=new a(r)),t.length>h?t=e(t):t.length<h&&(t=a.concat([t,p],h));for(var n=new a(h),o=new a(h),i=0;h>i;i++)n[i]=54^t[i],o[i]=92^t[i];var s=e(a.concat([n,r]));return e(a.concat([o,s]))}function o(e,t){e=e||"sha1";var r=d[e],o=[],s=0;return r||i("algorithm:",e,"is not yet supported"),{update:function(e){return a.isBuffer(e)||(e=new a(e)),o.push(e),s+=e.length,this},digest:function(e){var i=a.concat(o),s=t?n(r,t,i):r(i);return o=null,e?s.toString(e):s}}}function i(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function s(e,t){for(var r in e)t(e[r],r)}var a=e("buffer").Buffer,u=e("./sha"),c=e("./sha256"),f=e("./rng"),l=e("./md5"),d={sha1:u,sha256:c,md5:l},h=64,p=new a(h);p.fill(0),r.createHash=function(e){return o(e)},r.createHmac=function(e,t){return o(e,t)},r.randomBytes=function(e,t){if(!t||!t.call)return new a(f(e));try{t.call(this,void 0,new a(f(e)))}catch(r){t(r)}},s(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){r[e]=function(){i("sorry,",e,"is not implemented yet")}})},{"./md5":9,"./rng":10,"./sha":11,"./sha256":12,buffer:5}],9:[function(e,t,r){function n(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var r=1732584193,n=-271733879,o=-1732584194,f=271733878,l=0;l<e.length;l+=16){var d=r,h=n,p=o,y=f;r=i(r,n,o,f,e[l+0],7,-680876936),f=i(f,r,n,o,e[l+1],12,-389564586),o=i(o,f,r,n,e[l+2],17,606105819),n=i(n,o,f,r,e[l+3],22,-1044525330),r=i(r,n,o,f,e[l+4],7,-176418897),f=i(f,r,n,o,e[l+5],12,1200080426),o=i(o,f,r,n,e[l+6],17,-1473231341),n=i(n,o,f,r,e[l+7],22,-45705983),r=i(r,n,o,f,e[l+8],7,1770035416),f=i(f,r,n,o,e[l+9],12,-1958414417),o=i(o,f,r,n,e[l+10],17,-42063),n=i(n,o,f,r,e[l+11],22,-1990404162),r=i(r,n,o,f,e[l+12],7,1804603682),f=i(f,r,n,o,e[l+13],12,-40341101),o=i(o,f,r,n,e[l+14],17,-1502002290),n=i(n,o,f,r,e[l+15],22,1236535329),r=s(r,n,o,f,e[l+1],5,-165796510),f=s(f,r,n,o,e[l+6],9,-1069501632),o=s(o,f,r,n,e[l+11],14,643717713),n=s(n,o,f,r,e[l+0],20,-373897302),r=s(r,n,o,f,e[l+5],5,-701558691),f=s(f,r,n,o,e[l+10],9,38016083),o=s(o,f,r,n,e[l+15],14,-660478335),n=s(n,o,f,r,e[l+4],20,-405537848),r=s(r,n,o,f,e[l+9],5,568446438),f=s(f,r,n,o,e[l+14],9,-1019803690),o=s(o,f,r,n,e[l+3],14,-187363961),n=s(n,o,f,r,e[l+8],20,1163531501),r=s(r,n,o,f,e[l+13],5,-1444681467),f=s(f,r,n,o,e[l+2],9,-51403784),o=s(o,f,r,n,e[l+7],14,1735328473),n=s(n,o,f,r,e[l+12],20,-1926607734),r=a(r,n,o,f,e[l+5],4,-378558),f=a(f,r,n,o,e[l+8],11,-2022574463),o=a(o,f,r,n,e[l+11],16,1839030562),n=a(n,o,f,r,e[l+14],23,-35309556),r=a(r,n,o,f,e[l+1],4,-1530992060),f=a(f,r,n,o,e[l+4],11,1272893353),o=a(o,f,r,n,e[l+7],16,-155497632),n=a(n,o,f,r,e[l+10],23,-1094730640),r=a(r,n,o,f,e[l+13],4,681279174),f=a(f,r,n,o,e[l+0],11,-358537222),o=a(o,f,r,n,e[l+3],16,-722521979),n=a(n,o,f,r,e[l+6],23,76029189),r=a(r,n,o,f,e[l+9],4,-640364487),f=a(f,r,n,o,e[l+12],11,-421815835),o=a(o,f,r,n,e[l+15],16,530742520),n=a(n,o,f,r,e[l+2],23,-995338651),r=u(r,n,o,f,e[l+0],6,-198630844),f=u(f,r,n,o,e[l+7],10,1126891415),o=u(o,f,r,n,e[l+14],15,-1416354905),n=u(n,o,f,r,e[l+5],21,-57434055),r=u(r,n,o,f,e[l+12],6,1700485571),f=u(f,r,n,o,e[l+3],10,-1894986606),o=u(o,f,r,n,e[l+10],15,-1051523),n=u(n,o,f,r,e[l+1],21,-2054922799),r=u(r,n,o,f,e[l+8],6,1873313359),f=u(f,r,n,o,e[l+15],10,-30611744),o=u(o,f,r,n,e[l+6],15,-1560198380),n=u(n,o,f,r,e[l+13],21,1309151649),r=u(r,n,o,f,e[l+4],6,-145523070),f=u(f,r,n,o,e[l+11],10,-1120210379),o=u(o,f,r,n,e[l+2],15,718787259),n=u(n,o,f,r,e[l+9],21,-343485551),r=c(r,d),n=c(n,h),o=c(o,p),f=c(f,y)}return Array(r,n,o,f)}function o(e,t,r,n,o,i){return c(f(c(c(t,e),c(n,i)),o),r)}function i(e,t,r,n,i,s,a){return o(t&r|~t&n,e,t,i,s,a)}function s(e,t,r,n,i,s,a){return o(t&n|r&~n,e,t,i,s,a)}function a(e,t,r,n,i,s,a){return o(t^r^n,e,t,i,s,a)}function u(e,t,r,n,i,s,a){return o(r^(t|~n),e,t,i,s,a)}function c(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function f(e,t){return e<<t|e>>>32-t}var l=e("./helpers");t.exports=function(e){return l.hash(e,n,16)}},{"./helpers":7}],10:[function(e,t,r){!function(){var e,r,n=this;e=function(e){for(var t,t,r=new Array(e),n=0;e>n;n++)0==(3&n)&&(t=4294967296*Math.random()),r[n]=t>>>((3&n)<<3)&255;return r},n.crypto&&crypto.getRandomValues&&(r=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),t.exports=r||e}()},{}],11:[function(e,t,r){function n(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var r=Array(80),n=1732584193,u=-271733879,c=-1732584194,f=271733878,l=-1009589776,d=0;d<e.length;d+=16){for(var h=n,p=u,y=c,v=f,g=l,m=0;80>m;m++){16>m?r[m]=e[d+m]:r[m]=a(r[m-3]^r[m-8]^r[m-14]^r[m-16],1);var b=s(s(a(n,5),o(m,u,c,f)),s(s(l,r[m]),i(m)));l=f,f=c,c=a(u,30),u=n,n=b}n=s(n,h),u=s(u,p),c=s(c,y),f=s(f,v),l=s(l,g)}return Array(n,u,c,f,l)}function o(e,t,r,n){return 20>e?t&r|~t&n:40>e?t^r^n:60>e?t&r|t&n|r&n:t^r^n}function i(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function s(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function a(e,t){return e<<t|e>>>32-t}var u=e("./helpers");t.exports=function(e){return u.hash(e,n,20,!0)}},{"./helpers":7}],12:[function(e,t,r){var n=e("./helpers"),o=function(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r},i=function(e,t){return e>>>t|e<<32-t},s=function(e,t){return e>>>t},a=function(e,t,r){return e&t^~e&r},u=function(e,t,r){return e&t^e&r^t&r},c=function(e){return i(e,2)^i(e,13)^i(e,22)},f=function(e){return i(e,6)^i(e,11)^i(e,25)},l=function(e){return i(e,7)^i(e,18)^s(e,3)},d=function(e){return i(e,17)^i(e,19)^s(e,10)},h=function(e,t){var r,n,i,s,h,p,y,v,g,m,b,w,_=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),E=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var g=0;g<e.length;g+=16){r=E[0],n=E[1],i=E[2],s=E[3],h=E[4],p=E[5],y=E[6],v=E[7];for(var m=0;64>m;m++)16>m?x[m]=e[m+g]:x[m]=o(o(o(d(x[m-2]),x[m-7]),l(x[m-15])),x[m-16]),b=o(o(o(o(v,f(h)),a(h,p,y)),_[m]),x[m]),w=o(c(r),u(r,n,i)),v=y,y=p,p=h,h=o(s,b),s=i,i=n,n=r,r=o(b,w);E[0]=o(r,E[0]),E[1]=o(n,E[1]),E[2]=o(i,E[2]),E[3]=o(s,E[3]),E[4]=o(h,E[4]),E[5]=o(p,E[5]),E[6]=o(y,E[6]),E[7]=o(v,E[7])}return E};t.exports=function(e){return n.hash(e,h,32,!0)}},{"./helpers":7}],13:[function(e,t,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,n),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(t){}}function a(){var e;try{e=r.storage.debug}catch(t){}return e}function u(){try{return window.localStorage}catch(e){}}r=t.exports=e("./debug"),r.log=i,r.formatArgs=o,r.save=s,r.load=a,r.useColors=n,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){return JSON.stringify(e)},r.enable(a())},{"./debug":14}],14:[function(e,t,r){function n(){return r.colors[f++%r.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(c||t);e.diff=i,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=r.useColors()),null==e.color&&e.useColors&&(e.color=n());var s=Array.prototype.slice.call(arguments);s[0]=r.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var o=r.formatters[n];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof r.formatArgs&&(s=r.formatArgs.apply(e,s));var u=o.log||r.log||console.log.bind(console);u.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=r.enabled(e)?o:t;return i.namespace=e,i}function i(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;n>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function s(){r.enable("")}function a(e){var t,n;for(t=0,n=r.skips.length;n>t;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;n>t;t++)if(r.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=o,r.coerce=u,r.disable=s,r.enable=i,
r.enabled=a,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var c,f=0},{ms:19}],15:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(o(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),u=1;n>u;u++)i[u-1]=arguments[u];r.apply(this,i)}else if(s(r)){for(n=arguments.length,i=new Array(n-1),u=1;n>u;u++)i[u-1]=arguments[u];for(c=r.slice(),n=c.length,u=0;n>u;u++)c[u].apply(this,i)}return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,i,a;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||o(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(a=i;a-->0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],o(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],16:[function(e,t,r){r.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?o-1:0,d=r?-1:1,h=e[t+l];for(l+=d,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=d,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,n),i-=c}return(h?-1:1)*s*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,y=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+l>=1?d/u:d*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&a,h+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*y}},{}],17:[function(e,t,r){(function(e){"use strict";function r(){f=!0;for(var e,t,r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}f=!1}function n(e){1!==l.push(e)||f||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(r),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),o=function(){u.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){r(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(r,0)};else{var c=new e.MessageChannel;c.port1.onmessage=r,o=function(){c.port2.postMessage(0)}}var f,l=[];t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],19:[function(e,t,r){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*f;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*u;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function o(e){return e>=f?Math.round(e/f)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return s(e,f,"day")||s(e,c,"hour")||s(e,u,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,r){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var a=1e3,u=60*a,c=60*u,f=24*c,l=365.25*f;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?i(e):o(e)}},{}],20:[function(e,t,r){"use strict";function n(){this.store={}}function o(e){if(this.store=new n,e&&Array.isArray(e))for(var t=0,r=e.length;r>t;t++)this.add(e[t])}r.Map=n,r.Set=o,n.prototype.mangle=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e);return"$"+e},n.prototype.unmangle=function(e){return e.substring(1)},n.prototype.get=function(e){var t=this.mangle(e);return t in this.store?this.store[t]:void 0},n.prototype.set=function(e,t){var r=this.mangle(e);return this.store[r]=t,!0},n.prototype.has=function(e){var t=this.mangle(e);return t in this.store},n.prototype["delete"]=function(e){var t=this.mangle(e);return t in this.store?(delete this.store[t],!0):!1},n.prototype.forEach=function(e){for(var t=Object.keys(this.store),r=0,n=t.length;n>r;r++){var o=t[r],i=this.store[o];o=this.unmangle(o),e(i,o)}},o.prototype.add=function(e){return this.store.set(e,!0)},o.prototype.has=function(e){return this.store.has(e)},o.prototype["delete"]=function(e){return this.store["delete"](e)}},{}],21:[function(e,t,r){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[h.call(e)]||"object":typeof e}function o(e){return null!==e&&e===e.window}function i(e){if(!e||"object"!==n(e)||e.nodeType||o(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var r;for(r in e);return void 0===r||p.call(e,r)}function s(e){return"function"===n(e)}function a(){for(var e=[],t=-1,r=arguments.length,n=new Array(r);++t<r;)n[t]=arguments[t];var o={};e.push({args:n,result:{container:o,key:"key"}});for(var i;i=e.pop();)u(e,i.args,i.result);return o.key}function u(e,t,r){var n,o,a,u,c,f,l,d=t[0]||{},h=1,p=t.length,v=!1,g=/\d+/;for("boolean"==typeof d&&(v=d,d=t[1]||{},h=2),"object"==typeof d||s(d)||(d={}),p===h&&(d=this,--h);p>h;h++)if(null!=(n=t[h])){l=y(n);for(o in n)if(!(o in Object.prototype)){if(l&&!g.test(o))continue;if(a=d[o],u=n[o],d===u)continue;v&&u&&(i(u)||(c=y(u)))?(c?(c=!1,f=a&&y(a)?a:[]):f=a&&i(a)?a:{},e.push({args:[v,f,u],result:{container:d,key:o}})):void 0!==u&&(y(n)&&s(u)||(d[o]=u))}}r.container[r.key]=d}for(var c={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<f.length;l++){var d=f[l];c["[object "+d+"]"]=d.toLowerCase()}var h=c.toString,p=c.hasOwnProperty,y=Array.isArray||function(e){return"array"===n(e)};t.exports=a},{}],22:[function(e,t,r){"use strict";t.exports=e("../lib/deps/ajax/ajaxCore")},{"../lib/deps/ajax/ajaxCore":25}],23:[function(e,t,r){"use strict";t.exports=e("../lib/deps/promise")},{"../lib/deps/promise":48}],24:[function(e,t,r){"use strict";function n(e){a()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):u()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function o(){i.call(this),this._listeners={},n(this)}var i=e("events").EventEmitter,s=e("inherits"),a=e("./deps/env/isChromeApp"),u=e("./deps/env/hasLocalStorage"),c=e("./deps/pick");s(o,i),o.prototype.addListener=function(e,t,r,n){function o(){if(i._listeners[t]){if(s)return void(s="waiting");s=!0;var e=c(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(e).on("change",function(e){e.seq>n.since&&!n.cancelled&&(n.since=e.seq,n.onChange(e))}).on("complete",function(){"waiting"===s&&setTimeout(function(){o()},0),s=!1}).on("error",function(){s=!1})}}if(!this._listeners[t]){var i=this,s=!1;this._listeners[t]=o,this.on(e,o)}},o.prototype.removeListener=function(e,t){t in this._listeners&&i.prototype.removeListener.call(this,e,this._listeners[t])},o.prototype.notifyLocalWindows=function(e){a()?chrome.storage.local.set({dbName:e}):u()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},o.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},t.exports=o},{"./deps/env/hasLocalStorage":40,"./deps/env/isChromeApp":41,"./deps/pick":47,events:15,inherits:18}],25:[function(e,t,r){"use strict";function n(e,t){function r(t,r,n){if(e.binary||e.json||!e.processData||"string"==typeof t){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(o){return n(o)}}else t=JSON.stringify(t);Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?i.generateErrorFromResponse(e):e})),e.binary&&a(t,r),n(null,t,r)}function n(e,t){var r,n;if(e.code&&e.status){var o=new Error(e.message||e.code);return o.status=e.status,t(o)}try{r=JSON.parse(e.responseText),n=i.generateErrorFromResponse(r)}catch(s){n=i.generateErrorFromResponse(e)}t(n)}e=s.clone(e);var f={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=s.extend(f,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),o(e,function(o,s,a){if(o){if(s){var f="undefined"!=typeof document&&document.location.origin,l=f&&0===e.url.indexOf(f);l&&0===s.statusCode&&c(),o.status=s.statusCode}else o.status=400;return n(o,t)}var d,h=s.headers&&s.headers["content-type"],p=a||u();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof p&&(/json/.test(h)||/^[\s]*\{/.test(p)&&/\}[\s]*$/.test(p)))try{p=JSON.parse(p.toString())}catch(y){}s.statusCode>=200&&s.statusCode<300?r(p,s,t):(d=i.generateErrorFromResponse(p),d.status=s.statusCode,t(d))})}var o=e("request"),i=e("./../errors"),s=e("../../utils"),a=e("./applyTypeToBuffer"),u=e("./defaultBody"),c=e("./explainCors");t.exports=n},{"../../utils":51,"./../errors":42,"./applyTypeToBuffer":26,"./defaultBody":27,"./explainCors":29,request:31}],26:[function(e,t,r){"use strict";t.exports=function(){}},{}],27:[function(e,t,r){"use strict";t.exports=function(){return""}},{}],28:[function(e,t,r){(function(e){"use strict";t.exports=function(t){"console"in e&&"info"in console&&console.info("The above 404 is totally normal. "+t)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,r){(function(e){"use strict";t.exports=function(){"console"in e&&"warn"in console&&console.warn("PouchDB: the remote database may not have CORS enabled.If not please enable CORS: http://pouchdb.com/errors.html#no_access_control_allow_origin_header")}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,r){"use strict";var n=e("./ajaxCore");t.exports=function(e,t){if(("POST"===e.method||"GET"===e.method)&&!e.cache){var r=-1!==e.url.indexOf("?");e.url+=(r?"&":"?")+"_nonce="+Date.now()}return n(e,t)}},{"./ajaxCore":25}],31:[function(e,t,r){"use strict";function n(){for(var e={},t=new u.Promise(function(t,r){e.resolve=t,e.reject=r}),r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.promise=t,u.Promise.resolve().then(function(){return fetch.apply(null,r)}).then(function(t){e.resolve(t)})["catch"](function(t){e.reject(t)}),e}function o(e,t){var r,o,i,s=new Headers,a={method:e.method,credentials:"include",headers:s};return e.json&&(s.set("Accept","application/json"),s.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.body instanceof Blob?c(e.body,function(e){a.body=e}):e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):"body"in e?a.body=e.body:a.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&s.set(t,e.headers[t])}),r=n(e.url,a),e.timeout>0&&(o=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),r.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(o),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):t(e,i)})["catch"](function(e){t(e,i)}),{abort:r.reject}}function i(e,t){var r,n,o,i=function(){r.abort()};r=e.xhr?new e.xhr:new XMLHttpRequest,r.open(e.method,e.url),r.withCredentials=!0,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(r.responseType="arraybuffer"),"body"in e||(e.body=null);for(var s in e.headers)e.headers.hasOwnProperty(s)&&r.setRequestHeader(s,e.headers[s]);return e.timeout>0&&(n=setTimeout(i,e.timeout),r.onprogress=function(){clearTimeout(n),n=setTimeout(i,e.timeout)},"undefined"==typeof o&&(o=-1!==Object.keys(r).indexOf("upload")&&"undefined"!=typeof r.upload),o&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var n={statusCode:r.status};if(r.status>=200&&r.status<300){var o;o=e.binary?a([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,t(null,n,o)}else{var i={};try{i=JSON.parse(r.response)}catch(s){}t(i,n)}}},e.body&&e.body instanceof Blob?c(e.body,function(e){r.send(e)}):r.send(e.body),{abort:i}}function s(){try{return new XMLHttpRequest,!0}catch(e){return!1}}var a=e("./../binary/blob.js"),u=e("../../utils"),c=e("./../binary/readAsArrayBuffer"),f=s();t.exports=function(e,t){return f||e.xhr?i(e,t):o(e,t)}},{"../../utils":51,"./../binary/blob.js":35,"./../binary/readAsArrayBuffer":37}],32:[function(e,t,r){"use strict";var n=e("./buffer");"function"==typeof atob?r.atob=function(e){return atob(e)}:r.atob=function(e){var t=new n(e,"base64");if(t.toString("base64")!==e)throw"Cannot base64 encode full string";return t.toString("binary")},"function"==typeof btoa?r.btoa=function(e){return btoa(e)}:r.btoa=function(e){return new n(e,"binary").toString("base64")}},{"./buffer":36}],33:[function(e,t,r){"use strict";t.exports=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;t>o;o++)n[o]=e.charCodeAt(o);return r}},{}],34:[function(e,t,r){"use strict";var n=e("./blob"),o=e("./binaryStringToArrayBuffer");t.exports=function(e,t){return n([o(e)],{type:t})}},{"./binaryStringToArrayBuffer":33,"./blob":35}],35:[function(e,t,r){"use strict";function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new n,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}t.exports=n},{}],36:[function(e,t,r){t.exports={}},{}],37:[function(e,t,r){"use strict";t.exports=function(e,t){var r=new FileReader;r.onloadend=function(e){var r=e.target.result||new ArrayBuffer(0);t(r)},r.readAsArrayBuffer(e)}},{}],38:[function(e,t,r){"use strict";function n(e){if("function"!=typeof e.hasOwnProperty)return!1;var t;for(t in e);return void 0===t||e.hasOwnProperty(t)}t.exports=function o(e){var t,r,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,i=e.length;i>r;r++)t[r]=o(e[r]);return t}if(e instanceof Date)return e.toISOString();if(!n(e))return e;t={};for(r in e)if(e.hasOwnProperty(r)){var s=o(e[r]);"undefined"!=typeof s&&(t[r]=s)}return t}},{}],39:[function(e,t,r){"use strict";function n(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function o(e){if(!/^\d+\-./.test(e))return s.error(s.INVALID_REV);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function i(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,o=[n[0],t,[]],i=1,s=n.length;s>i;i++)o=[n[i],{status:"missing"},[o]];return[{pos:r,ids:o}]}var s=e("./../errors"),a=e("./../uuid"),u=n(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),c=n(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);r.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=s.error(s.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=s.error(s.RESERVED_ID)):t=s.error(s.MISSING_ID),t)throw t},r.parseDoc=function(e,t){var n,f,l,d={status:"available"};if(e._deleted&&(d.deleted=!0),t)if(e._id||(e._id=a()),f=a(32,16).toLowerCase(),e._rev){if(l=o(e._rev),l.error)return l;e._rev_tree=[{pos:l.prefix,ids:[l.id,{status:"missing"},[[f,d,[]]]]}],n=l.prefix+1}else e._rev_tree=[{pos:1,ids:[f,d,[]]}],n=1;else if(e._revisions&&(e._rev_tree=i(e._revisions,d),n=e._revisions.start,f=e._revisions.ids[0]),!e._rev_tree){if(l=o(e._rev),l.error)return l;n=l.prefix,f=l.id,e._rev_tree=[{pos:n,ids:[f,d,[]]}]}r.invalidIdError(e._id),e._rev=n+"-"+f;var h={metadata:{},data:{}};for(var p in e)if(Object.prototype.hasOwnProperty.call(e,p)){var y="_"===p[0];if(y&&!u[p]){var v=s.error(s.DOC_VALIDATION,p);throw v.message=s.DOC_VALIDATION.message+": "+p,v}y&&!c[p]?h.metadata[p.slice(1)]=e[p]:h.data[p]=e[p]}return h}},{"./../errors":42,"./../uuid":50}],40:[function(e,t,r){"use strict";var n,o=e("./isChromeApp");if(o())n=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),n=!!localStorage.getItem("_pouch_check_localstorage")}catch(i){n=!1}t.exports=function(){return n}},{"./isChromeApp":41}],41:[function(e,t,r){"use strict";t.exports=function(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}},{}],42:[function(e,t,r){"use strict";function n(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}var o=e("inherits");o(n,Error),n.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},r.UNAUTHORIZED=new n({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),r.MISSING_BULK_DOCS=new n({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),r.MISSING_DOC=new n({status:404,error:"not_found",reason:"missing"}),r.REV_CONFLICT=new n({status:409,error:"conflict",reason:"Document update conflict"}),r.INVALID_ID=new n({status:400,error:"invalid_id",reason:"_id field must contain a string"}),r.MISSING_ID=new n({status:412,error:"missing_id",reason:"_id is required for puts"}),r.RESERVED_ID=new n({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),r.NOT_OPEN=new n({status:412,error:"precondition_failed",reason:"Database not open"}),r.UNKNOWN_ERROR=new n({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),r.BAD_ARG=new n({status:500,error:"badarg",reason:"Some query argument is invalid"}),r.INVALID_REQUEST=new n({status:400,error:"invalid_request",reason:"Request was invalid"}),r.QUERY_PARSE_ERROR=new n({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),r.DOC_VALIDATION=new n({status:500,error:"doc_validation",reason:"Bad special document member"}),r.BAD_REQUEST=new n({status:400,error:"bad_request",reason:"Something wrong with the request"}),r.NOT_AN_OBJECT=new n({status:400,error:"bad_request",reason:"Document must be a JSON object"}),r.DB_MISSING=new n({status:404,error:"not_found",reason:"Database not found"}),r.IDB_ERROR=new n({status:500,error:"indexed_db_went_bad",reason:"unknown"}),r.WSQ_ERROR=new n({status:500,error:"web_sql_went_bad",reason:"unknown"}),r.LDB_ERROR=new n({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),r.FORBIDDEN=new n({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),r.INVALID_REV=new n({status:400,error:"bad_request",reason:"Invalid rev format"}),r.FILE_EXISTS=new n({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),r.MISSING_STUB=new n({status:412,error:"missing_stub"}),r.error=function(e,t,r){function o(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==r&&(this.name=r),void 0!==t&&(this.reason=t)}return o.prototype=n.prototype,new o(t)},r.getErrorTypeByProp=function(e,t,n){var o=r,i=Object.keys(o).filter(function(r){var n=o[r];return"function"!=typeof n&&n[e]===t}),s=n&&i.filter(function(e){var t=o[e];return t.message===n})[0]||i[0];return s?o[s]:null},r.generateErrorFromResponse=function(e){var t,n,o,i,s,a=r;return n=e.error===!0&&"string"==typeof e.name?e.name:e.error,s=e.reason,o=a.getErrorTypeByProp("name",n,s),e.missing||"missing"===s||"deleted"===s||"not_found"===n?o=a.MISSING_DOC:"doc_validation"===n?(o=a.DOC_VALIDATION,i=s):"bad_request"===n&&o.message!==s&&(o=a.BAD_REQUEST),o||(o=a.getErrorTypeByProp("status",e.status,s)||a.UNKNOWN_ERROR),t=a.error(o,s,n),i&&(t.message=i),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.missing&&(t.missing=e.missing),t}},{inherits:18}],43:[function(e,t,r){"use strict";function n(e,t){for(var r in t)if(t.hasOwnProperty(r)){var n=o(t[r]);"undefined"!=typeof n&&(e[r]=n)}}var o=e("./clone");t.exports=function(e,t,r){return n(e,t),r&&n(e,r),e}},{"./clone":38}],44:[function(e,t,r){"use strict";t.exports=function(e,t){for(var r,n=e.slice();r=n.pop();)for(var o=r.pos,i=r.ids,s=i[2],a=t(0===s.length,o,i[0],r.ctx,i[1]),u=0,c=s.length;c>u;u++)n.push({pos:o+1,ids:s[u],ctx:a})}},{}],45:[function(e,t,r){"use strict";function n(e){var t=!1;return o(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}var o=e("argsarray");t.exports=n},{argsarray:4}],46:[function(e,t,r){"use strict";function n(e){for(var t=a.exec(e),r={},n=14;n--;){var u=o[n],c=t[n]||"",f=-1!==["user","password"].indexOf(u);r[u]=f?decodeURIComponent(c):c}return r[i]={},r[o[12]].replace(s,function(e,t,n){t&&(r[i][t]=n)}),r}var o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i="queryKey",s=/(?:^|&)([^&=]*)=?([^&]*)/g,a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;t.exports=n},{}],47:[function(e,t,r){"use strict";t.exports=function(e,t){for(var r={},n=0,o=t.length;o>n;n++){var i=t[n];i in e&&(r[i]=e[i])}return r}},{}],48:[function(e,t,r){"use strict";t.exports="function"==typeof Promise?Promise:e("lie")},{lie:52}],49:[function(e,t,r){(function(r){"use strict";function n(e){return i(function(t){var n,i=this,a="function"==typeof t[t.length-1]?t.pop():!1;a&&(n=function(e,t){r.nextTick(function(){a(e,t)})});var u=new o(function(r,n){var o;try{var a=s(function(e,t){e?n(e):r(t)});t.push(a),o=e.apply(i,t),o&&"function"==typeof o.then&&r(o)}catch(u){n(u)}});return n&&u.then(function(e){n(null,e)},n),u})}var o=e("./promise"),i=e("argsarray"),s=e("./once");t.exports=n}).call(this,e("/Users/will/dev/willholley/pouchdb-authentication/node_modules/process/browser.js"))},{"./once":45,"./promise":48,"/Users/will/dev/willholley/pouchdb-authentication/node_modules/process/browser.js":53,argsarray:4}],50:[function(e,t,r){t.exports=e(3)},{}],51:[function(e,t,r){function n(e,t,r){try{return!e(t,r)}catch(n){var o="Filter function threw: "+n.toString();return c.error(c.BAD_REQUEST,o)}}var o=e("./deps/merge/traverseRevTree");r.ajax=e("./deps/ajax/prequest"),r.uuid=e("./deps/uuid"),r.getArguments=e("argsarray");var i=e("pouchdb-collections");r.Map=i.Map,r.Set=i.Set;var s=e("./deps/docs/parseDoc"),a=e("./deps/promise");r.Promise=a;var u=e("./deps/binary/base64"),c=e("./deps/errors");r.atob=u.atob,r.btoa=u.btoa;var f=e("./deps/binary/binaryStringToBlobOrBuffer");r.binaryStringToBlobOrBuffer=f,r.clone=e("./deps/clone"),r.extend=e("./deps/extend"),r.pick=e("./deps/pick"),r.inherits=e("inherits"),r.filterChange=function(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(o){o.doc||(o.doc={});var i=r&&n(e.filter,o.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var s in o.doc._attachments)o.doc._attachments.hasOwnProperty(s)&&(o.doc._attachments[s].stub=!0)}else delete o.doc;return!0}},r.parseDoc=s.parseDoc,r.invalidIdError=s.invalidIdError,r.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},r.Changes=e("./changesHandler"),r.once=e("./deps/once"),r.toPromise=e("./deps/toPromise"),r.adapterFun=function(t,n){function o(e,t,r){if(i.enabled){for(var n=[e._db_name,t],o=0;o<r.length-1;o++)n.push(r[o]);i.apply(null,n);var s=r[r.length-1];r[r.length-1]=function(r,n){var o=[e._db_name,t];o=o.concat(r?["error",r]:["success",n]),i.apply(null,o),s(r,n)}}}var i=e("debug")("pouchdb:api");return r.toPromise(r.getArguments(function(e){if(this._closed)return a.reject(new Error("database is closed"));var r=this;return o(r,t,e),this.taskqueue.isReady?n.apply(this,e):new a(function(n,o){r.taskqueue.addTask(function(i){i?o(i):n(r[t].apply(r,e))})})}))},r.explain404=e("./deps/ajax/explain404"),r.parseUri=e("./deps/parseUri"),r.compare=function(e,t){return t>e?-1:e>t?1:0},r.compactTree=function(e){var t=[];return o(e.rev_tree,function(e,r,n,o,i){"available"!==i.status||e||(t.push(r+"-"+n),i.status="missing")}),t};var l=e("vuvuzela");r.safeJsonParse=function(e){try{return JSON.parse(e)}catch(t){return l.parse(e)}},r.safeJsonStringify=function(e){try{return JSON.stringify(e)}catch(t){return l.stringify(e)}}},{"./changesHandler":24,"./deps/ajax/explain404":28,"./deps/ajax/prequest":30,"./deps/binary/base64":32,"./deps/binary/binaryStringToBlobOrBuffer":34,"./deps/clone":38,"./deps/docs/parseDoc":39,"./deps/errors":42,"./deps/extend":43,"./deps/merge/traverseRevTree":44,"./deps/once":45,"./deps/parseUri":46,"./deps/pick":47,"./deps/promise":48,"./deps/toPromise":49,"./deps/uuid":50,argsarray:4,debug:13,inherits:18,"pouchdb-collections":20,vuvuzela:54}],52:[function(e,t,r){"use strict";function n(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==n&&u(this,e)}function i(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function s(e,t,r){p(function(){var n;try{n=t(r)}catch(o){return y.reject(e,o)}n===e?y.reject(e,new TypeError("Cannot resolve promise with itself")):y.resolve(e,n)})}function a(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}function u(e,t){function r(t){i||(i=!0,y.reject(e,t))}function n(t){i||(i=!0,y.resolve(e,t))}function o(){t(n,r)}var i=!1,s=c(o);"error"===s.status&&r(s.value)}function c(e,t){var r={};try{r.value=e(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}function f(e){return e instanceof this?e:y.resolve(new this(n),e)}function l(e){var t=new this(n);return y.reject(t,e)}function d(e){function t(e,t){function n(e){s[t]=e,++a!==o||i||(i=!0,y.resolve(c,s))}r.resolve(e).then(n,function(e){i||(i=!0,y.reject(c,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=new Array(o),a=0,u=-1,c=new this(n);++u<o;)t(e[u],u);return c}function h(e){function t(e){r.resolve(e).then(function(e){i||(i=!0,y.resolve(a,e))},function(e){i||(i=!0,y.reject(a,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var s=-1,a=new this(n);++s<o;)t(e[s]);return a}var p=e("immediate"),y={},v=["REJECTED"],g=["FULFILLED"],m=["PENDING"];t.exports=r=o,o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===v)return this;var r=new this.constructor(n);if(this.state!==m){var o=this.state===g?e:t;s(r,o,this.outcome)}else this.queue.push(new i(r,e,t));return r},i.prototype.callFulfilled=function(e){y.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){y.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},y.resolve=function(e,t){var r=c(a,t);if("error"===r.status)return y.reject(e,r.value);var n=r.value;if(n)u(e,n);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},y.reject=function(e,t){e.state=v,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},r.resolve=f,r.reject=l,r.all=d,r.race=h},{immediate:17}],53:[function(e,t,r){function n(){}var o=t.exports={};o.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var r=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){
r.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=n,o.once=n,o.off=n,o.emit=n,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],54:[function(e,t,r){"use strict";function n(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,i=n.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var s=t.pop();o[s]=e}else t.push(e)}r.stringify=function(e){var t=[];t.push({obj:e});for(var r,n,o,i,s,a,u,c,f,l,d,h="";r=t.pop();)if(n=r.obj,o=r.prefix||"",i=r.val||"",h+=o,i)h+=i;else if("object"!=typeof n)h+="undefined"==typeof n?null:JSON.stringify(n);else if(null===n)h+="null";else if(Array.isArray(n)){for(t.push({val:"]"}),s=n.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:n[s],prefix:a});t.push({val:"["})}else{u=[];for(c in n)n.hasOwnProperty(c)&&u.push(c);for(t.push({val:"}"}),s=u.length-1;s>=0;s--)f=u[s],l=n[f],d=s>0?",":"",d+=JSON.stringify(f)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return h},r.parse=function(e){for(var t,r,o,i,s,a,u,c,f,l=[],d=[],h=0;;)if(t=e[h++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":h+=3,n(null,l,d);break;case"t":h+=3,n(!0,l,d);break;case"f":h+=4,n(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;){if(o=e[h++],!/[\d\.\-e\+]/.test(o)){h--;break}r+=o}n(parseFloat(r),l,d);break;case'"':for(i="",s=void 0,a=0;;){if(u=e[h++],'"'===u&&("\\"!==s||a%2!==1))break;i+=u,s=u,"\\"===s?a++:a=0}n(JSON.parse('"'+i+'"'),l,d);break;case"[":c={element:[],index:l.length},l.push(c.element),d.push(c);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();n(l.pop(),l,d)}}},{}]},{},[1]);
